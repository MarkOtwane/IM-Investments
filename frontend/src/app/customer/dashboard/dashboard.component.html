<div class="dashboard-container">
  <!-- Professional Sidebar -->
  <aside class="sidebar">
    <nav class="sidebar-nav">
      <div class="nav-section">
        <h3 class="nav-title">Main Menu</h3>
        <ul class="nav-list">
          <li>
            <a
              routerLink="/customer/dashboard"
              routerLinkActive="active"
              class="nav-item"
            >
              <i class="fas fa-tachometer-alt"></i>
              <span>Dashboard</span>
            </a>
          </li>
          <li>
            <a
              routerLink="/customer/home"
              routerLinkActive="active"
              class="nav-item"
            >
              <i class="fas fa-store"></i>
              <span>Marketplace</span>
            </a>
          </li>
          <li>
            <a
              routerLink="/customer/orders"
              routerLinkActive="active"
              class="nav-item"
            >
              <i class="fas fa-history"></i>
              <span>My Orders</span>
            </a>
          </li>
          <li>
            <a
              routerLink="/customer/orders"
              routerLinkActive="active"
              class="nav-item"
            >
              <i class="fas fa-history"></i>
              <span>Order History</span>
            </a>
          </li>
          <li>
            <a
              routerLink="/customer/cart"
              routerLinkActive="active"
              class="nav-item"
            >
              <i class="fas fa-shopping-cart"></i>
              <span>Cart</span>
              <span class="badge" *ngIf="cartItemsCount > 0">{{
                cartItemsCount
              }}</span>
            </a>
          </li>
        </ul>
      </div>

      <div class="nav-section">
        <h3 class="nav-title">Account</h3>
        <ul class="nav-list">
          <li>
            <a
              routerLink="/customer/profile"
              routerLinkActive="active"
              class="nav-item"
            >
              <i class="fas fa-user-cog"></i>
              <span>Profile Settings</span>
            </a>
          </li>
          <li>
            <a
              routerLink="/customer/wishlist"
              routerLinkActive="active"
              class="nav-item"
            >
              <i class="fas fa-heart"></i>
              <span>Wishlist</span>
            </a>
          </li>
          <li>
            <a
              routerLink="/customer/support"
              routerLinkActive="active"
              class="nav-item"
            >
              <i class="fas fa-headset"></i>
              <span>Support</span>
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="sidebar-footer">
      <button class="logout-btn" (click)="logout()">
        <i class="fas fa-sign-out-alt"></i>
        <span>Sign Out</span>
      </button>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Mobile Header -->
    <header class="mobile-header">
      <button class="menu-toggle" (click)="toggleSidebar()">
        <i class="fas fa-bars"></i>
      </button>
      <div class="mobile-brand">
        <i class="fas fa-chart-line"></i>
        <span>Dashboard</span>
      </div>
    </header>

    <!-- Dashboard Content -->
    <div class="content-wrapper">
      <!-- Welcome Header -->
      <section class="welcome-header">
        <div class="welcome-content">
          <h1>Welcome back, {{ userName }}</h1>
          <p class="welcome-subtitle">
            Here's your shopping overview for today
          </p>
        </div>
        <div class="welcome-actions">
          <button class="btn-primary" routerLink="/customer/home">
            <i class="fas fa-shopping-bag"></i>
            Shop Now
          </button>
        </div>
      </section>

      <!-- Key Metrics -->
      <section class="metrics-section">
        <div class="metrics-grid">
          <div class="metric-card primary">
            <div class="metric-icon">
              <i class="fas fa-shopping-cart"></i>
            </div>
            <div class="metric-content">
              <h3>${{ stats.totalSpent | number : "1.2-2" }}</h3>
              <p>Total Spent</p>
              <span class="metric-change positive">+12.5% vs last month</span>
            </div>
          </div>

          <div class="metric-card success">
            <div class="metric-icon">
              <i class="fas fa-box"></i>
            </div>
            <div class="metric-content">
              <h3>{{ stats.totalOrders }}</h3>
              <p>Total Orders</p>
              <span class="metric-change positive">+3 this month</span>
            </div>
          </div>

          <div class="metric-card warning">
            <div class="metric-icon">
              <i class="fas fa-gift"></i>
            </div>
            <div class="metric-content">
              <h3>{{ stats.loyaltyPoints }}</h3>
              <p>Loyalty Points</p>
              <span class="metric-change">Redeemable</span>
            </div>
          </div>

          <div class="metric-card info">
            <div class="metric-icon">
              <i class="fas fa-percent"></i>
            </div>
            <div class="metric-content">
              <h3>{{ Math.floor(stats.loyaltyPoints / 100) }}</h3>
              <p>Discount Coupons</p>
              <span class="metric-change">Available</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Dashboard Grid -->
      <div class="dashboard-grid">
        <!-- Recent Activity -->
        <section class="activity-section">
          <div class="section-header">
            <h2>Recent Activity</h2>
            <a routerLink="/customer/orders" class="view-all-link">View All</a>
          </div>

          <div class="activity-list">
            <div *ngFor="let order of recentOrders" class="activity-card">
              <div
                class="activity-icon"
                [class]="'status-' + order.status.toLowerCase()"
              >
                <i [class]="getStatusIcon(order.status)"></i>
              </div>
              <div class="activity-content">
                <div class="activity-header">
                  <h4>{{ order.id }}</h4>
                  <span class="activity-date">{{ order.date }}</span>
                </div>
                <p class="activity-description">
                  {{ order.items }} items â€¢ ${{
                    order.total | number : "1.2-2"
                  }}
                </p>
                <span
                  class="activity-status"
                  [class]="'status-' + order.status.toLowerCase()"
                >
                  {{ order.status }}
                </span>
              </div>
              <button
                class="btn-outline"
                routerLink="/customer/orders/{{ order.id }}"
              >
                Details
              </button>
            </div>
          </div>
        </section>
      </div>

      <!-- Quick Actions -->
      <section class="quick-actions">
        <h2>Quick Actions</h2>
        <div class="actions-grid">
          <a routerLink="/customer/profile" class="action-card">
            <div class="action-icon">
              <i class="fas fa-user-cog"></i>
            </div>
            <h3>Profile Settings</h3>
            <p>Update your account details</p>
          </a>
          <a routerLink="/customer/orders" class="action-card">
            <div class="action-icon">
              <i class="fas fa-history"></i>
            </div>
            <h3>Order History</h3>
            <p>View all your orders</p>
          </a>
          <a routerLink="/customer/wishlist" class="action-card">
            <div class="action-icon">
              <i class="fas fa-heart"></i>
            </div>
            <h3>Saved Items</h3>
            <p>Your watchlist and favorites</p>
          </a>
          <a routerLink="/customer/support" class="action-card">
            <div class="action-icon">
              <i class="fas fa-headset"></i>
            </div>
            <h3>Get Support</h3>
            <p>Contact our support team</p>
          </a>
        </div>
      </section>
    </div>
  </main>
</div>
